!function(i,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(i||self).GridHelper=t()}(this,function(){function i(){return i=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)({}).hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},i.apply(null,arguments)}var t={columns:12,gutterWidth:"16px",marginWidth:"16px",color:"red",opacity:.1,key:"g"},e=/*#__PURE__*/function(){function e(i){void 0===i&&(i={}),this.sharedConfig=void 0,this.breakpoints=void 0,this.currentBreakpointConfig=void 0,this.previousBreakpointConfig=null,this.gridContainer=void 0,this.isActive=!1,this.ctrlDown=!1;var e=this.mergeConfig(i,t);this.sharedConfig=e,this.breakpoints=e.breakpoints||{},this.currentBreakpointConfig=this.getBreakpointConfig(),this.previousBreakpointConfig=this.currentBreakpointConfig,this.gridContainer=document.createElement("div"),document.body.append(this.gridContainer),this.initialize()}var n=e.prototype;return n.mergeConfig=function(t,e){var n=i({},e.breakpoints,t.breakpoints);if(t.breakpoints)for(var r in t.breakpoints)n[r]=i({},n[r],t.breakpoints[r]);delete t.breakpoints;var o=i({},e,t);return i({},o,{breakpoints:n})},n.initialize=function(){this.setGridEvents()},n.getBreakpointConfig=function(){for(var t=window.innerWidth,e=this.sharedConfig,n=0,r=Object.entries(this.breakpoints);n<r.length;n++){var o=r[n],s=o[1];t>=parseInt(o[0])&&(e=i({},this.sharedConfig,s))}return e},n.extractCSSVariable=function(i){var t=i.match(/var\((--[\w-]+)\)/);return t?t[1]:null},n.setGridHelperStyles=function(){var i=this.gridContainer.style;i.zIndex="10000",i.position="fixed",i.top="0",i.left="0",i.display="flex",i.width="100%",i.height="100%",i.columnGap=""+this.currentBreakpointConfig.gutterWidth,i.paddingLeft=""+this.currentBreakpointConfig.marginWidth,i.paddingRight=""+this.currentBreakpointConfig.marginWidth,i.pointerEvents="none",i.visibility=this.isActive?"visible":"hidden"},n.setGridHelperColumns=function(){this.gridContainer.innerHTML="";var i=0,t=this.currentBreakpointConfig.columns;if("string"==typeof t){var e=this.extractCSSVariable(t);if(e){var n=getComputedStyle(document.documentElement).getPropertyValue(e);i=parseInt(n),isNaN(i)&&(i=12)}}else"number"==typeof t&&(i=t);for(var r=0;r<i;r++){var o=document.createElement("div");o.style.flex="1 1 0",o.style.backgroundColor=this.currentBreakpointConfig.color,o.style.opacity=""+this.currentBreakpointConfig.opacity,this.gridContainer.appendChild(o)}},n.setGridEvents=function(){var i=this;window.addEventListener("resize",function(){i.currentBreakpointConfig=i.getBreakpointConfig(),i.setGridHelperStyles(),i.setGridHelperColumns()}),document.addEventListener("keydown",function(t){return i.handleKeyDown(t)}),document.addEventListener("keyup",function(t){return i.handleKeyUp(t)})},n.handleKeyDown=function(i){"Control"===i.key?this.ctrlDown=!0:this.ctrlDown&&i.key===this.sharedConfig.key&&(this.currentBreakpointConfig=this.getBreakpointConfig(),this.setGridHelperStyles(),this.setGridHelperColumns(),this.toggleGridVisibility())},n.handleKeyUp=function(i){"Control"===i.key&&(this.ctrlDown=!1)},n.toggleGridVisibility=function(){this.gridContainer.style.visibility=this.isActive?"hidden":"visible",this.isActive=!this.isActive},e}();return e});
